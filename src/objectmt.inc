/* Generated by objgen.lua on Sat Aug 17 12:51:02 2002.  Do not edit.  */

static void type_mismatch_in_assign(lua_State *L)
{
    lua_pushstring(L, "type mismatch in assignment");
    lua_error(L);
}

static int
object_metatable_gettable(lua_State *L)
{
	struct object *quux = lua_unboxpointer(L, 1);
	const char *index = lua_tostring(L, 2);
	if (0 == strcmp(index, "id")) {
		lua_pushnumber(L, quux->id);
	}
	else if (0 == strcmp(index, "x")) {
		lua_pushnumber(L, quux->x);
	}
	else if (0 == strcmp(index, "y")) {
		lua_pushnumber(L, quux->y);
	}
	else if (0 == strcmp(index, "xv")) {
		lua_pushnumber(L, quux->xv);
	}
	else if (0 == strcmp(index, "yv")) {
		lua_pushnumber(L, quux->yv);
	}
	else if (0 == strcmp(index, "xv_decay")) {
		lua_pushnumber(L, quux->xv_decay);
	}
	else if (0 == strcmp(index, "yv_decay")) {
		lua_pushnumber(L, quux->yv_decay);
	}
	else if (0 == strcmp(index, "mass")) {
		lua_pushnumber(L, quux->mass);
	}
	else if (0 == strcmp(index, "is_proxy")) {
		if (quux->is_proxy) lua_pushnumber(L, 1); else lua_pushnil(L);
	}
	else if (0 == strcmp(index, "collision_tag")) {
		lua_pushnumber(L, quux->collision_tag);
	}
	else {
		lua_getref(L, quux->table);
		lua_pushvalue(L, 2);
		lua_rawget(L, -2);
	}
	return 1;
}

static int
object_metatable_settable(lua_State *L)
{
	struct object *quux = lua_unboxpointer(L, 1);
	const char *index = lua_tostring(L, 2);
	if (0 == strcmp(index, "id")) {
		if (!lua_isnumber(L, 3)) type_mismatch_in_assign(L);
		quux->id = lua_tonumber(L, 3);
	}
	else if (0 == strcmp(index, "x")) {
		if (!lua_isnumber(L, 3)) type_mismatch_in_assign(L);
		quux->x = lua_tonumber(L, 3);
	}
	else if (0 == strcmp(index, "y")) {
		if (!lua_isnumber(L, 3)) type_mismatch_in_assign(L);
		quux->y = lua_tonumber(L, 3);
	}
	else if (0 == strcmp(index, "xv")) {
		if (!lua_isnumber(L, 3)) type_mismatch_in_assign(L);
		quux->xv = lua_tonumber(L, 3);
	}
	else if (0 == strcmp(index, "yv")) {
		if (!lua_isnumber(L, 3)) type_mismatch_in_assign(L);
		quux->yv = lua_tonumber(L, 3);
	}
	else if (0 == strcmp(index, "xv_decay")) {
		if (!lua_isnumber(L, 3)) type_mismatch_in_assign(L);
		quux->xv_decay = lua_tonumber(L, 3);
	}
	else if (0 == strcmp(index, "yv_decay")) {
		if (!lua_isnumber(L, 3)) type_mismatch_in_assign(L);
		quux->yv_decay = lua_tonumber(L, 3);
	}
	else if (0 == strcmp(index, "mass")) {
		if (!lua_isnumber(L, 3)) type_mismatch_in_assign(L);
		quux->mass = lua_tonumber(L, 3);
	}
	else if (0 == strcmp(index, "is_proxy")) {
		quux->is_proxy = !lua_isnil(L, 3);
	}
	else if (0 == strcmp(index, "collision_tag")) {
		if (!lua_isnumber(L, 3)) type_mismatch_in_assign(L);
		quux->collision_tag = lua_tonumber(L, 3);
	}
	else {
		lua_getref(L, quux->table);
		lua_pushvalue(L, 2);
		lua_pushvalue(L, 3);
		lua_rawset(L, -3);
	}
	return 1;
}
#define REGISTER_OBJECT_METATABLE_METHODS(L)			\
	lua_pushliteral(L, "__gettable");			\
	lua_pushcfunction(L, object_metatable_gettable);	\
	lua_settable(L, -3);					\
	lua_pushliteral(L, "__settable");			\
	lua_pushcfunction(L, object_metatable_settable);	\
	lua_settable(L, -3);

